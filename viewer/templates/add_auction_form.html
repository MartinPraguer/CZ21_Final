{% extends 'base.html' %}
{% block content %}

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}  <!-- Vykreslení všech polí formuláře -->
    
    <button type="submit">Create Auction</button>
</form>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const auctionTypeField = document.getElementById('id_auction_type');
    const buyNowPriceField = document.getElementById('id_buy_now_price').parentElement;
    const startPriceField = document.getElementById('id_start_price').parentElement;
    const penultimatePriceField = document.getElementById('id_penultimate_price').parentElement;
    const lastPriceField = document.getElementById('id_last_price').parentElement;
    const minimumBidField = document.getElementById('id_minimum_bid').parentElement;

    function toggleFields() {
      if (auctionTypeField.value === 'buy_now') {
        buyNowPriceField.style.display = 'block';   // Zobrazit "Buy Now" cenu
        startPriceField.style.display = 'none';     // Skrýt pole pro příhozy
        penultimatePriceField.style.display = 'none';
        lastPriceField.style.display = 'none';
        minimumBidField.style.display = 'none';
      } else {
        buyNowPriceField.style.display = 'none';    // Skrýt "Buy Now" cenu
        startPriceField.style.display = 'block';    // Zobrazit pole pro příhozy
        penultimatePriceField.style.display = 'block';
        lastPriceField.style.display = 'block';
        minimumBidField.style.display = 'block';
      }
    }

    auctionTypeField.addEventListener('change', toggleFields);
    toggleFields();  // Spustí se při načtení stránky a nastaví pole podle výběru
  });
</script>
    
    
{% endblock %}